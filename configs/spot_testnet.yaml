# Binance 现货测试网配置
# 测试网地址：https://testnet.binance.vision/
# 获取测试网 API Key：
#   1. 访问 https://testnet.binance.vision/
#   2. 使用 GitHub 账号登录
#   3. 在 API 管理页面生成测试网 Key
#   4. 获取免费的测试资金

symbol: "ETH/USDT"
timeframe: "1m"

engine:
  initial_balance: 10000
  maker_fee: 0.001          # 现货手续费
  taker_fee: 0.001
  leverage: 1               # 现货固定为 1（无杠杆）

data:
  source: binance
  use_testnet: true         # ✅ 现货测试网支持 testnet 模式
  limit: 1000

exchange:
  exchange_id: "binance"    # 现货使用 "binance"
  # 从 testnet.binance.vision 获取测试网 API Key
  api_key: "dL2MBgm2n6EWTiNt3Yx0i1rjlVogHyErNExryKwZW4pusoJbjUZczMeaJlvLfkQi" # 测试网
  secret: "4pR9BaTIH2vkkGzOQmw3kxGLmTQLfEdCDB8AQjwd8gpwXgGtO0Gud47CbfSmKgTw" # 测试网
  password:
  enable_rate_limit: true
  market_type: "spot"       # ⚠️ 现货模式
  options: {}               # 测试网不需要 demo: true
  params: {}

live:
  poll_interval: 30
  warmup_bars: 800
  backfill_limit: 1200
  enable_trading: false     # 初次测试建议先 dry-run
  dry_run: true
  heartbeat_interval: 120

strategy:
  timeframe: "1m"
  direction: "both"         # 现货也支持双向（但实际只能做多）
  drop_single_pct: 1.0
  drop_window_pct: 3.0
  drop_window: 12
  delayed_trigger_pct: 0.6
  delayed_window_minutes: 360
  ema_fast: 21
  ema_slow: 55
  rsi_period: 14
  rsi_oversold: 25.0
  rsi_overbought: 75.0
  volume_short: 5
  volume_long: 20
  volume_recover_ratio: 1.18
  volume_tick_ratio: 1.32
  volatility_window: 30
  min_signal: 82
  scale_multiplier: 0.6      # 现货无杠杆，可以提高
  trail_step_pct: 0.3
  layers:
    - offset_pct: 1.0
      size_ratio: 0.3
    - offset_pct: 1.8
      size_ratio: 0.35
    - offset_pct: 2.6
      size_ratio: 0.35
  risk:
    max_account_ratio: 0.2   # 现货无杠杆，可以提高到 20%
    take_profit_pct: 1.1
    hard_stop_pct: 1.6
    trailing_pct: 0.5
    trailing_activation_pct: 1.1
    cooldown_minutes: 90
    max_concurrent_trades: 1
    max_hold_minutes: 600
